package com.meeran.gs.learning;

import java.util.Arrays;
import java.util.stream.Collectors;

public class StripComments {

	public static void main(String[] args) {
		// TODO Auto-generated method stub
		System.out.println("Result - apples, pears\ngrapes\nbananas " +
				stripComments( "apples, pears # and bananas\ngrapes\nbananas !apples " , new String[] { "# " + "!" } )
		);

		System.out.println("Result - a\nc\nd"+
				stripComments( "a #b\nc\nd $e f g" , new String[] { "#", "$" } )
		);
	}
	
	public static String stripComments(String text, String[] commentSymbols) {
		
		String pattern = String.format("[ ]*([%s].*)?$", Arrays.asList(commentSymbols).stream().collect(Collectors.joining()));
		
		return Arrays.asList(text.split("\n"))
				.stream().map(x -> x.replaceAll(pattern,""))
				.collect(Collectors.joining("\n"));
	}

}
